<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC Carbon-Link | 供应商碳数据与智能管理平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2E8B57;
            --primary-dark: #1F6B41;
            --secondary: #4682B4;
            --light: #F5F5F5;
            --dark: #333;
            --danger: #E74C3C;
            --warning: #F39C12;
            --success: #27AE60;
            --gray: #95a5a6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* 侧边栏样式 */
        .sidebar {
            width: 250px;
            background: linear-gradient(to bottom, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px 0;
            transition: all 0.3s;
        }
        
        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo i {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .logo h1 {
            font-size: 18px;
            font-weight: 600;
        }
        
        .nav-links {
            list-style: none;
            margin-top: 20px;
        }
        
        .nav-links li {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-links li:hover, .nav-links li.active {
            background-color: rgba(255,255,255,0.1);
            border-left: 4px solid white;
        }
        
        .nav-links i {
            margin-right: 10px;
            font-size: 18px;
        }
        
        /* 主内容区样式 */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .header h2 {
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        /* 卡片样式 */
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-header h3 {
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        /* 指标卡片样式 */
        .metrics-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-value {
            font-size: 28px;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .metric-trend {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        .trend-up {
            color: var(--success);
        }
        
        .trend-down {
            color: var(--danger);
        }
        
        /* 图表容器 */
        .charts-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            height: 350px;
        }
        
        /* 供应商列表样式 */
        .supplier-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .supplier-table th, .supplier-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .supplier-table th {
            background-color: var(--light);
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .supplier-table tr:hover {
            background-color: #f9f9f9;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-excellent {
            background-color: #e6f7ee;
            color: var(--success);
        }
        
        .status-good {
            background-color: #e6f2ff;
            color: var(--secondary);
        }
        
        .status-warning {
            background-color: #fef5e6;
            color: var(--warning);
        }
        
        .status-critical {
            background-color: #fde8e6;
            color: var(--danger);
        }
        
        /* 预警样式 */
        .alert-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--warning);
        }
        
        .alert-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .alert-header i {
            color: var(--warning);
            margin-right: 10px;
            font-size: 20px;
        }
        
        /* 多语言选择器 */
        .language-selector {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }
        
        .language-selector select {
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            background: white;
        }
        
        /* 页面内容样式 */
        .page-content {
            display: none;
        }
        
        .page-content.active {
            display: block;
        }
        
        /* 数据表格样式 */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .data-table th {
            background-color: var(--light);
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .data-table tr:hover {
            background-color: #f9f9f9;
        }
        
        /* 表单样式 */
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        /* 指标计算器样式 */
        .calculator {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .calculator-result {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--light);
            border-radius: 5px;
            font-weight: 600;
        }
        
        /* 供应商详情页样式 */
        .supplier-detail {
            display: none;
        }
        
        .supplier-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .supplier-info {
            display: flex;
            align-items: center;
        }
        
        .supplier-logo {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 32px;
            color: var(--primary);
        }
        
        .supplier-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .detail-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .detail-card h4 {
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .detail-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }
        
        .detail-label {
            font-size: 14px;
            color: var(--gray);
        }
        
        .material-breakdown {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .transport-breakdown {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        /* ESG报告样式 */
        .esg-report {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .report-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 20px;
        }
        
        .report-section {
            margin-bottom: 30px;
        }
        
        .report-section h3 {
            color: var(--primary-dark);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .supplier-details {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .charts-container, .material-breakdown, .transport-breakdown, .calculator-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-container {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .nav-links {
                display: flex;
                overflow-x: auto;
            }
            
            .nav-links li {
                flex: 0 0 auto;
                border-left: none;
                border-bottom: 4px solid transparent;
            }
            
            .nav-links li:hover, .nav-links li.active {
                border-left: none;
                border-bottom: 4px solid white;
            }
            
            .supplier-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 侧边栏 -->
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>ABC Carbon-Link</h1>
            </div>
            <ul class="nav-links">
                <li class="active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> <span class="nav-text">仪表板</span></li>
                <li data-page="supplier-management"><i class="fas fa-industry"></i> <span class="nav-text">供应商管理</span></li>
                <li data-page="data-analysis"><i class="fas fa-chart-line"></i> <span class="nav-text">数据分析</span></li>
                <li data-page="alert-system"><i class="fas fa-bell"></i> <span class="nav-text">预警系统</span></li>
                <li data-page="compliance-reports"><i class="fas fa-file-contract"></i> <span class="nav-text">合规报告</span></li>
                <li data-page="green-finance"><i class="fas fa-hand-holding-usd"></i> <span class="nav-text">绿色金融</span></li>
                <li data-page="system-settings"><i class="fas fa-cogs"></i> <span class="nav-text">系统设置</span></li>
            </ul>
        </div>
        
        <!-- 主内容区 -->
        <div class="main-content">
            <div class="header">
                <h2 class="page-title">供应商碳数据仪表板</h2>
                <div style="display: flex; align-items: center;">
                    <div class="language-selector">
                        <select id="languageSelect">
                            <option value="zh">中文</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    <div class="user-info">
                        <img src="https://i.pravatar.cc/40" alt="用户头像">
                        <span>管理员</span>
                    </div>
                </div>
            </div>
            
            <!-- 仪表板页面 -->
            <div class="page-content active" id="dashboard-page">
                <!-- 预警卡片 -->
                <div class="alert-card">
                    <div class="alert-header">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>系统预警</h3>
                    </div>
                    <p>检测到3家供应商的碳排放强度超出阈值，建议立即审查其减排措施。</p>
                </div>
                
                <!-- 关键指标 -->
                <div class="metrics-container">
                    <div class="metric-card">
                        <i class="fas fa-industry" style="color: var(--primary); font-size: 24px;"></i>
                        <div class="metric-value">42</div>
                        <div class="metric-title">活跃供应商</div>
                        <div class="metric-trend trend-up">
                            <i class="fas fa-arrow-up"></i> 较上月增加2家
                        </div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-cloud" style="color: var(--secondary); font-size: 24px;"></i>
                        <div class="metric-value">1,284</div>
                        <div class="metric-title">总碳排放量 (tCO₂e)</div>
                        <div class="metric-trend trend-down">
                            <i class="fas fa-arrow-down"></i> 较上月减少5.2%
                        </div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-bolt" style="color: var(--warning); font-size: 24px;"></i>
                        <div class="metric-value">38.5%</div>
                        <div class="metric-title">平均绿电比例</div>
                        <div class="metric-trend trend-up">
                            <i class="fas fa-arrow-up"></i> 较上月增长3.1%
                        </div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-recycle" style="color: var(--success); font-size: 24px;"></i>
                        <div class="metric-value">72.3%</div>
                        <div class="metric-title">再生材料使用率</div>
                        <div class="metric-trend trend-up">
                            <i class="fas fa-arrow-up"></i> 较上月增长2.4%
                        </div>
                    </div>
                </div>
                
                <!-- 图表区域 -->
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>供应商碳排放趋势</h3>
                            <select>
                                <option>过去12个月</option>
                                <option>过去6个月</option>
                                <option>过去3个月</option>
                            </select>
                        </div>
                        <canvas id="emissionTrendChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>ESG绩效分布</h3>
                        </div>
                        <canvas id="esgDistributionChart"></canvas>
                    </div>
                </div>
                
                <!-- 供应商列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3>供应商绩效排名</h3>
                        <button style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i> 导出报告
                        </button>
                    </div>
                    <table class="supplier-table">
                        <thead>
                            <tr>
                                <th>供应商名称</th>
                                <th>行业</th>
                                <th>ESG评分</th>
                                <th>碳排放强度</th>
                                <th>绿电比例</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>绿色纺织有限公司</td>
                                <td>纺织</td>
                                <td>92.5</td>
                                <td>1.24 tCO₂e/件</td>
                                <td>68%</td>
                                <td><span class="status-badge status-excellent">优秀</span></td>
                                <td><button class="view-supplier-btn" data-id="1">查看详情</button></td>
                            </tr>
                            <tr>
                                <td>可持续印染厂</td>
                                <td>印染</td>
                                <td>85.3</td>
                                <td>2.15 tCO₂e/米</td>
                                <td>45%</td>
                                <td><span class="status-badge status-good">良好</span></td>
                                <td><button class="view-supplier-btn" data-id="2">查看详情</button></td>
                            </tr>
                            <tr>
                                <td>环保面料制造</td>
                                <td>面料</td>
                                <td>78.6</td>
                                <td>3.42 tCO₂e/公斤</td>
                                <td>32%</td>
                                <td><span class="status-badge status-warning">需改进</span></td>
                                <td><button class="view-supplier-btn" data-id="3">查看详情</button></td>
                            </tr>
                            <tr>
                                <td>传统纺织企业</td>
                                <td>纺织</td>
                                <td>62.1</td>
                                <td>5.78 tCO₂e/件</td>
                                <td>12%</td>
                                <td><span class="status-badge status-critical">高风险</span></td>
                                <td><button class="view-supplier-btn" data-id="4">查看详情</button></td>
                            </tr>
                            <tr>
                                <td>创新材料科技</td>
                                <td>新材料</td>
                                <td>88.9</td>
                                <td>0.89 tCO₂e/公斤</td>
                                <td>82%</td>
                                <td><span class="status-badge status-excellent">优秀</span></td>
                                <td><button class="view-supplier-btn" data-id="5">查看详情</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- 供应商管理页面 -->
            <div class="page-content" id="supplier-management-page">
                <!-- 供应商筛选 -->
                <div class="card">
                    <div class="card-header">
                        <h3>供应商筛选</h3>
                    </div>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <select style="padding: 8px 15px; border-radius: 5px; border: 1px solid #ddd;">
                            <option>所有行业</option>
                            <option>纺织</option>
                            <option>印染</option>
                            <option>面料</option>
                            <option>新材料</option>
                        </select>
                        <select style="padding: 8px 15px; border-radius: 5px; border: 1px solid #ddd;">
                            <option>所有状态</option>
                            <option>优秀</option>
                            <option>良好</option>
                            <option>需改进</option>
                            <option>高风险</option>
                        </select>
                        <input type="text" placeholder="搜索供应商名称..." style="padding: 8px 15px; border-radius: 5px; border: 1px solid #ddd; min-width: 200px;">
                        <button style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-search"></i> 搜索
                        </button>
                    </div>
                </div>
                
                <!-- 供应商详情 -->
                <div class="card" id="supplier-detail-content">
                    <div class="supplier-header">
                        <div class="supplier-info">
                            <div class="supplier-logo">
                                <i class="fas fa-industry"></i>
                            </div>
                            <div>
                                <h2 id="supplier-name">绿色纺织有限公司</h2>
                                <p id="supplier-industry">纺织行业 | 一级供应商</p>
                            </div>
                        </div>
                        <div>
                            <span class="status-badge status-excellent" id="supplier-status">优秀</span>
                        </div>
                    </div>
                    
                    <!-- 关键指标 -->
                    <div class="supplier-details">
                        <div class="detail-card">
                            <h4>ESG综合评分</h4>
                            <div class="detail-value" id="esg-score">92.5</div>
                            <div class="detail-label">较上月 +2.3</div>
                        </div>
                        <div class="detail-card">
                            <h4>碳排放强度</h4>
                            <div class="detail-value" id="carbon-intensity">1.24 tCO₂e/件</div>
                            <div class="detail-label">行业平均: 2.85 tCO₂e/件</div>
                        </div>
                        <div class="detail-card">
                            <h4>绿电比例</h4>
                            <div class="detail-value" id="green-energy">68%</div>
                            <div class="detail-label">目标: 70%</div>
                        </div>
                        <div class="detail-card">
                            <h4>再生材料比例</h4>
                            <div class="detail-value" id="recycled-material">45%</div>
                            <div class="detail-label">行业领先</div>
                        </div>
                        <div class="detail-card">
                            <h4>产品碳足迹(PCF)</h4>
                            <div class="detail-value" id="pcf">3.2 kgCO₂e</div>
                            <div class="detail-label">较基准年降低12%</div>
                        </div>
                        <div class="detail-card">
                            <h4>运输排放强度</h4>
                            <div class="detail-value" id="transport-emission">0.42 kgCO₂e/km</div>
                            <div class="detail-label">较上月降低5%</div>
                        </div>
                    </div>
                    
                    <!-- 原材料分析 -->
                    <div class="card-header">
                        <h3>原材料选取分析</h3>
                    </div>
                    <div class="material-breakdown">
                        <div class="chart-card">
                            <canvas id="materialCompositionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <canvas id="materialCostChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- 运输成本控制 -->
                    <div class="card-header">
                        <h3>运输成本控制分析</h3>
                    </div>
                    <div class="transport-breakdown">
                        <div class="chart-card">
                            <canvas id="transportModeChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <canvas id="transportCostChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- 优化建议 -->
                    <div class="card">
                        <div class="card-header">
                            <h3>AI优化建议</h3>
                        </div>
                        <ul style="padding-left: 20px;">
                            <li style="margin-bottom: 10px;">将15%的棉质材料替换为再生棉，可降低材料碳足迹18%</li>
                            <li style="margin-bottom: 10px;">优化运输路线，将陆运比例从40%降至30%，海运增加至50%，可降低运输排放12%</li>
                            <li style="margin-bottom: 10px;">在染整环节采用低温染色技术，可降低能耗成本约8%</li>
                            <li style="margin-bottom: 10px;">安装屋顶光伏系统，预计可将绿电比例提升至80%，投资回收期3.2年</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 碳排放计算器 -->
                <div class="calculator">
                    <h4>碳排放计算器</h4>
                    <div class="calculator-grid">
                        <div class="form-group">
                            <label for="electricity">电力消耗 (kWh)</label>
                            <input type="number" id="electricity" placeholder="输入电力消耗">
                        </div>
                        <div class="form-group">
                            <label for="fuel">燃料消耗 (kg)</label>
                            <input type="number" id="fuel" placeholder="输入燃料消耗">
                        </div>
                        <div class="form-group">
                            <label for="production">总产量</label>
                            <input type="number" id="production" placeholder="输入总产量">
                        </div>
                        <div class="form-group">
                            <label for="green-energy-ratio">绿电比例 (%)</label>
                            <input type="number" id="green-energy-ratio" placeholder="输入绿电比例">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="calculate-btn">计算碳排放指标</button>
                    <div class="calculator-result" id="calculation-result">
                        计算结果将显示在这里
                    </div>
                </div>
            </div>
            
            <!-- 数据分析页面 -->
            <div class="page-content" id="data-analysis-page">
                <div class="card">
                    <div class="card-header">
                        <h3>数据分析与指标计算</h3>
                    </div>
                    <div class="charts-container">
                        <div class="chart-card">
                            <div class="card-header">
                                <h3>核心指标计算框架</h3>
                            </div>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>指标</th>
                                        <th>公式</th>
                                        <th>标准</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>绝对排放量（tCO₂e）</td>
                                        <td>Σ(活动数据×排放因子)</td>
                                        <td>GHG Protocol</td>
                                    </tr>
                                    <tr>
                                        <td>碳强度（tCO₂e/件）</td>
                                        <td>总排放量÷总产量</td>
                                        <td>ISO 14064</td>
                                    </tr>
                                    <tr>
                                        <td>产品碳足迹（PCF）</td>
                                        <td>原材料+生产+运输</td>
                                        <td>PEFCR</td>
                                    </tr>
                                    <tr>
                                        <td>绿电使用比例</td>
                                        <td>绿电消耗÷总电力消耗</td>
                                        <td>CSRD E1-1</td>
                                    </tr>
                                    <tr>
                                        <td>能源强度改善率</td>
                                        <td>（本期—上期）÷上期</td>
                                        <td>绿色订单奖励依据</td>
                                    </tr>
                                    <tr>
                                        <td>S&G风险评分</td>
                                        <td>Σ(风险点权重×合规度)</td>
                                        <td>平台问卷+审计</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="chart-card">
                            <div class="card-header">
                                <h3>排放源分析</h3>
                            </div>
                            <canvas id="emissionSourceChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 预警系统页面 -->
            <div class="page-content" id="alert-system-page">
                <div class="card">
                    <div class="card-header">
                        <h3>预警系统</h3>
                    </div>
                    <div class="alert-card">
                        <div class="alert-header">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>高风险预警</h3>
                        </div>
                        <p>供应商"传统纺织企业"的碳排放强度超出行业平均水平150%，建议立即采取减排措施。</p>
                    </div>
                    <div class="alert-card">
                        <div class="alert-header">
                            <i class="fas fa-exclamation-circle"></i>
                            <h3>中等风险预警</h3>
                        </div>
                        <p>供应商"环保面料制造"的绿电比例低于目标值，建议增加可再生能源使用。</p>
                    </div>
                    <div class="alert-card">
                        <div class="alert-header">
                            <i class="fas fa-info-circle"></i>
                            <h3>数据异常预警</h3>
                        </div>
                        <p>检测到3家供应商的数据上传延迟，可能影响合规报告准确性。</p>
                    </div>
                </div>
            </div>
            
            <!-- 合规报告页面 -->
            <div class="page-content" id="compliance-reports-page">
                <div class="card">
                    <div class="card-header">
                        <h3>合规报告生成</h3>
                    </div>
                    <div class="charts-container">
                        <div class="chart-card">
                            <div class="card-header">
                                <h3>CSRD合规状态</h3>
                            </div>
                            <canvas id="complianceChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <div class="card-header">
                                <h3>报告生成</h3>
                            </div>
                            <div style="padding: 20px;">
                                <div class="form-group">
                                    <label for="report-type">报告类型</label>
                                    <select id="report-type">
                                        <option>CSRD合规报告</option>
                                        <option>ESG年度报告</option>
                                        <option>碳足迹报告</option>
                                        <option>供应商评估报告</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="report-period">报告期间</label>
                                    <select id="report-period">
                                        <option>2024年第一季度</option>
                                        <option>2024年第二季度</option>
                                        <option>2024年第三季度</option>
                                        <option>2024年第四季度</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary" id="generate-report-btn">生成报告</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ESG报告预览 -->
                <div class="esg-report" id="esg-report-preview" style="display: none;">
                    <div class="report-header">
                        <h1>ABC时尚有限公司 ESG年度报告</h1>
                        <p>报告期间: <span id="report-period-display">2024年</span></p>
                        <p>发布日期: <span id="report-date">2024年12月31日</span></p>
                    </div>
                    
                    <div class="report-section">
                        <h3>执行摘要</h3>
                        <p>本报告详细介绍了ABC时尚有限公司在环境、社会和治理(ESG)方面的表现、战略和承诺。我们致力于通过透明的数据披露和持续改进，推动可持续时尚发展。</p>
                        
                        <div class="metrics-container">
                            <div class="metric-card">
                                <div class="metric-value">1,284</div>
                                <div class="metric-title">总碳排放量 (tCO₂e)</div>
                                <div class="metric-trend trend-down">
                                    <i class="fas fa-arrow-down"></i> 较去年减少8.5%
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">72.3%</div>
                                <div class="metric-title">再生材料使用率</div>
                                <div class="metric-trend trend-up">
                                    <i class="fas fa-arrow-up"></i> 较去年增长15.2%
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value">92.5</div>
                                <div class="metric-title">平均ESG评分</div>
                                <div class="metric-trend trend-up">
                                    <i class="fas fa-arrow-up"></i> 较去年提升4.3分
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="report-section">
                        <h3>环境绩效</h3>
                        <p>我们通过ABC Carbon-Link平台实现了对供应链碳排放的全面管理和优化。</p>
                        
                        <h4>碳排放管理</h4>
                        <ul>
                            <li>范围1排放: 450 tCO₂e (较去年减少12%)</li>
                            <li>范围2排放: 580 tCO₂e (较去年减少15%)</li>
                            <li>范围3排放: 620 tCO₂e (较去年减少5%)</li>
                            <li>总碳强度: 2.1 tCO₂e/万元营收 (较去年改善18%)</li>
                        </ul>
                        
                        <h4>资源利用</h4>
                        <ul>
                            <li>可再生能源使用比例: 42% (目标: 50% by 2025)</li>
                            <li>水资源利用效率提升: 23% (较基准年)</li>
                            <li>废弃物回收率: 78% (较去年提升12%)</li>
                        </ul>
                    </div>
                    
                    <div class="report-section">
                        <h3>社会责任</h3>
                        <p>我们致力于在整个价值链中维护人权和劳工标准。</p>
                        
                        <h4>劳工权益</h4>
                        <ul>
                            <li>供应商员工培训覆盖率: 95%</li>
                            <li>工伤率(LTIR): 0.8 (较去年下降20%)</li>
                            <li>最低工资合规率: 100%</li>
                            <li>女性管理层比例: 42%</li>
                        </ul>
                        
                        <h4>社区参与</h4>
                        <ul>
                            <li>社区投资: ¥2,500,000</li>
                            <li>员工志愿服务小时数: 3,200小时</li>
                            <li>可持续时尚教育项目覆盖: 15所学校</li>
                        </ul>
                    </div>
                    
                    <div class="report-section">
                        <h3>治理与透明度</h3>
                        <p>我们建立了健全的治理结构和透明的报告机制。</p>
                        
                        <h4>公司治理</h4>
                        <ul>
                            <li>董事会独立性: 60%</li>
                            <li>ESG委员会: 已建立并定期开会</li>
                            <li>反腐败培训覆盖率: 100%</li>
                            <li>供应商行为准则签署率: 98%</li>
                        </ul>
                        
                        <h4>数据透明度</h4>
                        <ul>
                            <li>区块链数据存证覆盖率: 85%</li>
                            <li>第三方验证数据比例: 72%</li>
                            <li>数据准确性评分: 94/100</li>
                        </ul>
                    </div>
                    
                    <div class="report-section">
                        <h3>未来目标与承诺</h3>
                        <p>我们承诺到2030年实现以下目标:</p>
                        <ul>
                            <li>范围1和2碳排放减少50% (以2024年为基准)</li>
                            <li>范围3碳排放减少30% (以2024年为基准)</li>
                            <li>100%使用可再生电力</li>
                            <li>产品中再生材料比例达到90%</li>
                            <li>实现供应链完全透明和可追溯</li>
                        </ul>
                    </div>
                    
                    <div class="report-section">
                        <h3>第三方验证</h3>
                        <p>本报告中的数据已通过第三方机构验证，确保符合GHG Protocol、ISO 14064和GRI标准。</p>
                        <p>验证机构: 可持续认证国际有限公司</p>
                        <p>验证日期: 2024年12月15日</p>
                    </div>
                </div>
            </div>
            
            <!-- 绿色金融页面 -->
            <div class="page-content" id="green-finance-page">
                <div class="card">
                    <div class="card-header">
                        <h3>绿色金融服务</h3>
                    </div>
                    <div class="metrics-container">
                        <div class="metric-card">
                            <i class="fas fa-hand-holding-usd" style="color: var(--success); font-size: 24px;"></i>
                            <div class="metric-value">¥2.8M</div>
                            <div class="metric-title">绿色贷款总额</div>
                        </div>
                        <div class="metric-card">
                            <i class="fas fa-percentage" style="color: var(--primary); font-size: 24px;"></i>
                            <div class="metric-value">3.2%</div>
                            <div class="metric-title">平均优惠利率</div>
                        </div>
                        <div class="metric-card">
                            <i class="fas fa-building" style="color: var(--secondary); font-size: 24px;"></i>
                            <div class="metric-value">15</div>
                            <div class="metric-title">合作金融机构</div>
                        </div>
                        <div class="metric-card">
                            <i class="fas fa-check-circle" style="color: var(--success); font-size: 24px;"></i>
                            <div class="metric-value">28</div>
                            <div class="metric-title">已批准项目</div>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>供应商</th>
                                <th>绿色项目</th>
                                <th>贷款金额</th>
                                <th>利率</th>
                                <th>状态</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>绿色纺织有限公司</td>
                                <td>屋顶光伏安装</td>
                                <td>¥500,000</td>
                                <td>2.8%</td>
                                <td><span class="status-badge status-excellent">已批准</span></td>
                            </tr>
                            <tr>
                                <td>可持续印染厂</td>
                                <td>废水处理升级</td>
                                <td>¥350,000</td>
                                <td>3.1%</td>
                                <td><span class="status-badge status-good">审批中</span></td>
                            </tr>
                            <tr>
                                <td>创新材料科技</td>
                                <td>再生材料研发</td>
                                <td>¥800,000</td>
                                <td>2.5%</td>
                                <td><span class="status-badge status-excellent">已批准</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- 系统设置页面 -->
            <div class="page-content" id="system-settings-page">
                <div class="card">
                    <div class="card-header">
                        <h3>系统设置</h3>
                    </div>
                    <div class="calculator-grid">
                        <div>
                            <h4>用户管理</h4>
                            <div class="form-group">
                                <label for="username">用户名</label>
                                <input type="text" id="username" value="admin">
                            </div>
                            <div class="form-group">
                                <label for="email">邮箱</label>
                                <input type="email" id="email" value="admin@abccarbon.com">
                            </div>
                            <div class="form-group">
                                <label for="role">角色</label>
                                <select id="role">
                                    <option>系统管理员</option>
                                    <option>数据审核员</option>
                                    <option>报告查看者</option>
                                </select>
                            </div>
                            <button class="btn btn-primary">保存更改</button>
                        </div>
                        <div>
                            <h4>系统配置</h4>
                            <div class="form-group">
                                <label for="data-retention">数据保留期限</label>
                                <select id="data-retention">
                                    <option>1年</option>
                                    <option>2年</option>
                                    <option>5年</option>
                                    <option>永久</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="auto-backup">自动备份频率</label>
                                <select id="auto-backup">
                                    <option>每天</option>
                                    <option>每周</option>
                                    <option>每月</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="alert-threshold">预警阈值</label>
                                <input type="number" id="alert-threshold" value="80" placeholder="输入预警阈值(%)">
                            </div>
                            <button class="btn btn-primary">保存配置</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            // 碳排放趋势图
            const emissionCtx = document.getElementById('emissionTrendChart').getContext('2d');
            const emissionChart = new Chart(emissionCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
                    datasets: [{
                        label: '范围1排放',
                        data: [320, 310, 305, 290, 285, 280, 275, 270, 265, 260, 255, 250],
                        borderColor: '#E74C3C',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        tension: 0.3,
                        fill: true
                    }, {
                        label: '范围2排放',
                        data: [650, 640, 620, 600, 580, 560, 540, 520, 500, 480, 460, 440],
                        borderColor: '#3498DB',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        tension: 0.3,
                        fill: true
                    }, {
                        label: '范围3排放',
                        data: [420, 410, 400, 390, 380, 370, 360, 350, 340, 330, 320, 310],
                        borderColor: '#2ECC71',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: '碳排放量 (tCO₂e)'
                            }
                        }
                    }
                }
            });
            
            // ESG绩效分布图
            const esgCtx = document.getElementById('esgDistributionChart').getContext('2d');
            const esgChart = new Chart(esgCtx, {
                type: 'doughnut',
                data: {
                    labels: ['优秀 (90-100)', '良好 (75-89)', '需改进 (60-74)', '高风险 (<60)'],
                    datasets: [{
                        data: [15, 18, 7, 2],
                        backgroundColor: [
                            '#2ECC71',
                            '#3498DB',
                            '#F39C12',
                            '#E74C3C'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // 材料组成图
            const materialCtx = document.getElementById('materialCompositionChart').getContext('2d');
            const materialChart = new Chart(materialCtx, {
                type: 'pie',
                data: {
                    labels: ['有机棉', '再生聚酯', '天丝', '传统棉', '其他'],
                    datasets: [{
                        data: [25, 20, 15, 30, 10],
                        backgroundColor: [
                            '#2ECC71',
                            '#3498DB',
                            '#9B59B6',
                            '#F39C12',
                            '#95A5A6'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '材料组成比例'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // 材料成本图
            const materialCostCtx = document.getElementById('materialCostChart').getContext('2d');
            const materialCostChart = new Chart(materialCostCtx, {
                type: 'bar',
                data: {
                    labels: ['有机棉', '再生聚酯', '天丝', '传统棉', '其他'],
                    datasets: [{
                        label: '成本 (元/公斤)',
                        data: [45, 38, 52, 28, 35],
                        backgroundColor: '#3498DB',
                        borderColor: '#2980B9',
                        borderWidth: 1
                    }, {
                        label: '碳足迹 (kgCO₂e/公斤)',
                        data: [2.1, 1.8, 2.5, 3.8, 3.2],
                        backgroundColor: '#2ECC71',
                        borderColor: '#27AE60',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '材料成本与碳足迹对比'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // 运输模式图
            const transportModeCtx = document.getElementById('transportModeChart').getContext('2d');
            const transportModeChart = new Chart(transportModeCtx, {
                type: 'doughnut',
                data: {
                    labels: ['海运', '铁路', '公路', '空运'],
                    datasets: [{
                        data: [45, 15, 35, 5],
                        backgroundColor: [
                            '#3498DB',
                            '#2ECC71',
                            '#F39C12',
                            '#E74C3C'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '运输模式分布'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // 运输成本图
            const transportCostCtx = document.getElementById('transportCostChart').getContext('2d');
            const transportCostChart = new Chart(transportCostCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '运输成本 (万元)',
                        data: [42, 38, 35, 32, 30, 28],
                        borderColor: '#3498DB',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        tension: 0.3,
                        fill: true
                    }, {
                        label: '运输排放 (tCO₂e)',
                        data: [125, 118, 112, 105, 98, 92],
                        borderColor: '#2ECC71',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '运输成本与排放趋势'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
            
            // 排放源分析图
            const emissionSourceCtx = document.getElementById('emissionSourceChart').getContext('2d');
            const emissionSourceChart = new Chart(emissionSourceCtx, {
                type: 'bar',
                data: {
                    labels: ['范围1', '范围2', '范围3'],
                    datasets: [{
                        label: '碳排放量 (tCO₂e)',
                        data: [450, 980, 620],
                        backgroundColor: [
                            '#E74C3C',
                            '#3498DB',
                            '#2ECC71'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // 合规状态图
            const complianceCtx = document.getElementById('complianceChart').getContext('2d');
            const complianceChart = new Chart(complianceCtx, {
                type: 'doughnut',
                data: {
                    labels: ['完全合规', '部分合规', '不合规'],
                    datasets: [{
                        data: [65, 25, 10],
                        backgroundColor: [
                            '#2ECC71',
                            '#F39C12',
                            '#E74C3C'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // 多语言切换
            document.getElementById('languageSelect').addEventListener('change', function(e) {
                const lang = e.target.value;
                updateLanguage(lang);
            });
            
            // 页面切换逻辑
            const navLinks = document.querySelectorAll('.nav-links li');
            const pages = document.querySelectorAll('.page-content');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page') + '-page';
                    
                    // 更新活动状态
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 显示对应页面
                    pages.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === pageId) {
                            page.classList.add('active');
                        }
                    });
                    
                    // 更新页面标题
                    const pageTitle = document.querySelector('.page-title');
                    const navText = this.querySelector('.nav-text').textContent;
                    pageTitle.textContent = navText;
                });
            });
            
            // 供应商详情查看
            const viewButtons = document.querySelectorAll('.view-supplier-btn');
            viewButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const supplierId = this.getAttribute('data-id');
                    
                    // 切换到供应商管理页面
                    navLinks.forEach(l => l.classList.remove('active'));
                    document.querySelector('[data-page="supplier-management"]').classList.add('active');
                    
                    pages.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === 'supplier-management-page') {
                            page.classList.add('active');
                        }
                    });
                    
                    // 更新页面标题
                    document.querySelector('.page-title').textContent = '供应商管理';
                    
                    // 更新供应商详情
                    updateSupplierDetail(supplierId);
                });
            });
            
            // 更新供应商详情
            function updateSupplierDetail(supplierId) {
                // 模拟不同供应商的数据
                const suppliers = {
                    '1': {
                        name: '绿色纺织有限公司',
                        industry: '纺织行业 | 一级供应商',
                        status: '优秀',
                        esgScore: '92.5',
                        carbonIntensity: '1.24 tCO₂e/件',
                        greenEnergy: '68%',
                        recycledMaterial: '45%',
                        pcf: '3.2 kgCO₂e',
                        transportEmission: '0.42 kgCO₂e/km'
                    },
                    '2': {
                        name: '可持续印染厂',
                        industry: '印染行业 | 一级供应商',
                        status: '良好',
                        esgScore: '85.3',
                        carbonIntensity: '2.15 tCO₂e/米',
                        greenEnergy: '45%',
                        recycledMaterial: '32%',
                        pcf: '4.8 kgCO₂e',
                        transportEmission: '0.58 kgCO₂e/km'
                    },
                    '3': {
                        name: '环保面料制造',
                        industry: '面料行业 | 一级供应商',
                        status: '需改进',
                        esgScore: '78.6',
                        carbonIntensity: '3.42 tCO₂e/公斤',
                        greenEnergy: '32%',
                        recycledMaterial: '28%',
                        pcf: '5.6 kgCO₂e',
                        transportEmission: '0.67 kgCO₂e/km'
                    },
                    '4': {
                        name: '传统纺织企业',
                        industry: '纺织行业 | 一级供应商',
                        status: '高风险',
                        esgScore: '62.1',
                        carbonIntensity: '5.78 tCO₂e/件',
                        greenEnergy: '12%',
                        recycledMaterial: '15%',
                        pcf: '8.3 kgCO₂e',
                        transportEmission: '0.92 kgCO₂e/km'
                    },
                    '5': {
                        name: '创新材料科技',
                        industry: '新材料行业 | 一级供应商',
                        status: '优秀',
                        esgScore: '88.9',
                        carbonIntensity: '0.89 tCO₂e/公斤',
                        greenEnergy: '82%',
                        recycledMaterial: '65%',
                        pcf: '2.1 kgCO₂e',
                        transportEmission: '0.35 kgCO₂e/km'
                    }
                };
                
                const supplier = suppliers[supplierId];
                if (supplier) {
                    document.getElementById('supplier-name').textContent = supplier.name;
                    document.getElementById('supplier-industry').textContent = supplier.industry;
                    document.getElementById('supplier-status').textContent = supplier.status;
                    document.getElementById('esg-score').textContent = supplier.esgScore;
                    document.getElementById('carbon-intensity').textContent = supplier.carbonIntensity;
                    document.getElementById('green-energy').textContent = supplier.greenEnergy;
                    document.getElementById('recycled-material').textContent = supplier.recycledMaterial;
                    document.getElementById('pcf').textContent = supplier.pcf;
                    document.getElementById('transport-emission').textContent = supplier.transportEmission;
                    
                    // 更新状态徽章样式
                    const statusBadge = document.getElementById('supplier-status');
                    statusBadge.className = 'status-badge';
                    if (supplier.status === '优秀') {
                        statusBadge.classList.add('status-excellent');
                    } else if (supplier.status === '良好') {
                        statusBadge.classList.add('status-good');
                    } else if (supplier.status === '需改进') {
                        statusBadge.classList.add('status-warning');
                    } else {
                        statusBadge.classList.add('status-critical');
                    }
                }
            }
            
            // 碳排放计算器
            document.getElementById('calculate-btn').addEventListener('click', function() {
                const electricity = parseFloat(document.getElementById('electricity').value) || 0;
                const fuel = parseFloat(document.getElementById('fuel').value) || 0;
                const production = parseFloat(document.getElementById('production').value) || 1;
                const greenEnergyRatio = parseFloat(document.getElementById('green-energy-ratio').value) || 0;
                
                // 排放因子 (kgCO₂e/单位)
                const electricityFactor = 0.5; // kgCO₂e/kWh
                const fuelFactor = 2.5; // kgCO₂e/kg
                
                // 计算排放量
                const scope1 = fuel * fuelFactor / 1000; // 转换为tCO₂e
                const scope2 = electricity * electricityFactor / 1000; // 转换为tCO₂e
                const totalEmission = scope1 + scope2;
                
                // 计算碳强度
                const carbonIntensity = totalEmission / production;
                
                // 计算绿电贡献
                const greenEnergyContribution = (electricity * greenEnergyRatio / 100) * electricityFactor / 1000;
                
                // 显示结果
                const resultElement = document.getElementById('calculation-result');
                resultElement.innerHTML = `
                    <strong>计算结果:</strong><br>
                    范围1排放: ${scope1.toFixed(2)} tCO₂e<br>
                    范围2排放: ${scope2.toFixed(2)} tCO₂e<br>
                    总排放量: ${totalEmission.toFixed(2)} tCO₂e<br>
                    碳强度: ${carbonIntensity.toFixed(4)} tCO₂e/单位产品<br>
                    绿电贡献: ${greenEnergyContribution.toFixed(2)} tCO₂e减排
                `;
            });
            
            // 生成ESG报告
            document.getElementById('generate-report-btn').addEventListener('click', function() {
                const reportType = document.getElementById('report-type').value;
                const reportPeriod = document.getElementById('report-period').value;
                
                // 更新报告显示
                document.getElementById('report-period-display').textContent = reportPeriod;
                document.getElementById('report-date').textContent = new Date().toLocaleDateString('zh-CN');
                
                // 显示报告预览
                document.getElementById('esg-report-preview').style.display = 'block';
                
                // 在实际应用中，这里会生成完整的PDF报告
                alert(`${reportType}已生成，报告期间: ${reportPeriod}`);
            });
            
            // 语言切换函数
            function updateLanguage(lang) {
                const translations = {
                    'zh': {
                        'dashboard': '仪表板',
                        'supplier-management': '供应商管理',
                        'data-analysis': '数据分析',
                        'alert-system': '预警系统',
                        'compliance-reports': '合规报告',
                        'green-finance': '绿色金融',
                        'system-settings': '系统设置',
                        'page-title': '供应商碳数据仪表板'
                    },
                    'en': {
                        'dashboard': 'Dashboard',
                        'supplier-management': 'Supplier Management',
                        'data-analysis': 'Data Analysis',
                        'alert-system': 'Alert System',
                        'compliance-reports': 'Compliance Reports',
                        'green-finance': 'Green Finance',
                        'system-settings': 'System Settings',
                        'page-title': 'Supplier Carbon Data Dashboard'
                    }
                };
                
                // 更新导航文本
                document.querySelectorAll('.nav-text').forEach((element, index) => {
                    const key = Object.keys(translations[lang])[index];
                    element.textContent = translations[lang][key];
                });
                
                // 更新页面标题
                document.querySelector('.page-title').textContent = translations[lang]['page-title'];
                
                // 在实际应用中，这里会更新所有页面内容的文本
                console.log('Language switched to: ' + lang);
            }
        });
    </script>
</body>
</html>